{"version":3,"sources":["other/drum.js"],"names":[],"mappings":"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","file":"other/drum.js","sourcesContent":["/*! Drum.JS - v0.1dev - 2014-01-09\n * http://mb.aquarius.uberspace.de/drum.js\n *\n * Copyright (c) 2013 Marcel Bretschneider <marcel.bretschneider@gmail.com>;\n * Licensed under the MIT license */\n\n(function($) {\n\t\"use strict\";\n\n\tvar DrumIcon = (function () {\n\t\tvar svgelem = function (tagName) {\n\t\t\treturn document.createElementNS(\"http://www.w3.org/2000/svg\", tagName);\n\t\t};\n\t\tvar svgcanvas = function (width, height) {\n\t\t\tvar svg = $(svgelem(\"svg\"));\n\t\t\t$(svg).attr(\"width\", width);\n\t\t\t$(svg).attr(\"height\", height);\n\n\t\t\tvar g = $(svgelem(\"g\"));\n\t\t\t$(svg).append(g);\n\n\t\t\treturn svg;\n\t\t};\n\t\tvar container = function (className) {\n\t\t\tvar container = document.createElement(\"div\");\n\t\t\t$(container).attr(\"class\", className);\n\t\t\tvar inner = document.createElement(\"div\");\n\t\t\t$(container).append(inner);\n\t\t\treturn container;\n\t\t};\n\t\tvar path = function (settings) {\n\t\t\tvar p = $(svgelem(\"path\"));\n\t\t\tvar styles = {\n\t\t\t\t\"fill\" : \"none\",\n\t\t\t\t\"stroke\" : settings.dail_stroke_color,\n\t\t\t\t\"stroke-width\" : settings.dail_stroke_width + \"px\",\n\t\t\t\t\"stroke-linecap\" : \"butt\",\n\t\t\t\t\"stroke-linejoin\" : \"miter\",\n\t\t\t\t\"stroke-opacity\": \"1\"\n\t\t\t};\n\t\t\tvar style = \"\";\n\t\t\tfor (var i in styles) {\n\t\t\t\t$(p).attr(i, styles[i]);\n\t\t\t}\n\t\t\treturn p;\n\t\t};\n\t\treturn {\n\t\t\tup : function (settings) {\n\t\t\t\tvar width = settings.dail_w;\n\t\t\t\tvar height = settings.dail_h;\n\n\t\t\t\tvar svg = svgcanvas(width, height);\n\t\t\t\tvar p = path(settings); \n\n\t\t\t\t$(p).attr(\"d\", \"m0,\" + (height + settings.dail_stroke_width) + \"l\" + (width/2) + \",-\" + height + \"l\" + (width/2) + \",\" + height);\n\t\t\t\t$(svg).find(\"g\").append(p);\n\n\t\t\t\tvar cont = container(\"dial up\");\n\t\t\t\t$(cont).find(\"div\").append(svg);\n\t\t\t\treturn cont;\n\t\t\t},\n\t\t\tdown : function (settings) {\n\t\t\t\tvar width = settings.dail_w;\n\t\t\t\tvar height = settings.dail_h;\n\n\t\t\t\tvar svg = svgcanvas(width, height);\n\t\t\t\tvar p = path(settings); \n\n\t\t\t\t$(p).attr(\"d\", \"m0,-\" + settings.dail_stroke_width + \"l\" + (width/2) + \",\" + height + \"l\" + (width/2) + \",-\" + height);\n\t\t\t\t$(svg).find(\"g\").append(p);\n\n\t\t\t\tvar cont = container(\"dial down\");\n\t\t\t\t$(cont).find(\"div\").append(svg);\n\t\t\t\treturn cont;\n\t\t\t}\n\t\t};\n\t})();\n\n\tvar PanelModel = function (index, data_index, settings) \n\t{\n\t\tthis.index = index;\n\t\tthis.dataModel = new (function (data, i) {\n\t\t\tthis.data = data;\n\t\t\tthis.index = i;\n\t\t\tthis.getText = function () {\n\t\t\t\treturn this.data[this.index];\n\t\t\t};\n\t\t})(settings.data, data_index);\n\n\t\tthis.init = function () {\n\t\t\tthis.angle = settings.theta * index;\n\t\t\tthis.elem = document.createElement('figure');\n\t\t\t$(this.elem).addClass('a' + this.angle*100);\n\t\t\t$(this.elem).css('opacity', '0.5');\n\t\t\t$(this.elem).css(\n\t\t\t\tsettings.transformProp, \n\t\t\t\tsettings.rotateFn + '(' + -this.angle + 'deg) translateZ(' + settings.radius + 'px)'\n\t\t\t);\n\t\t\tthis.setText();\n\t\t};\n\t\tthis.setText = function () {\n\t\t\t$(this.elem).text(this.dataModel.getText());\n\t\t};\n\t\tthis.update = function (data_index) {\n\t\t\tif (this.dataModel.index != data_index) {\n\t\t\t\tthis.dataModel.index = data_index;\n\t\t\t\tthis.setText();\n\t\t\t}\n\t\t};\n\t};\n\n\tvar Drum = function(element, options, transformProp)\n\t{\n\t\tvar HTMLselect = ($(element))[0];\n\t\tvar obj = this;\n\t\tvar settings = $.extend({\n\t\t\tpanelCount : 16,\n\t\t\trotateFn : 'rotateX',\n\t\t\tinteractive: true,\n\t\t\tdail_w: 20,\n\t\t\tdail_h: 5,\n\t\t\tdail_stroke_color: '#999999',\n\t\t\tdail_stroke_width: 1\n\t\t}, options || {});\n\n\t\tsettings.transformProp = transformProp;\n\t\tsettings.rotation = 0;\n\t\tsettings.distance = 0;\n\t\tsettings.last_angle = 0;\n\t\tsettings.theta = 360 / settings.panelCount;\n\n\t\tsettings.initselect = HTMLselect.selectedIndex;\n\n\t\tsettings.data = [];\n\t\tfor (var i=0; i<HTMLselect.children.length; i++) {\n\t\t\tsettings.data.push($(HTMLselect.children[i]).text());\n\t\t}\n\n\t\t$(element).hide();\n\n\t\tvar wrapper = document.createElement( \"div\" );\n\t\t$(wrapper).addClass(\"drum-wrapper\");\n\t\t\n\t\tif (settings.id)\n\t\t\t$(wrapper).attr('id', settings.id);\n\t\telse if (HTMLselect.id)\n\t\t\t$(wrapper).attr('id', 'drum_' + HTMLselect.id);\n\t\telse if ($(HTMLselect).attr('name'))\n\t\t\t$(wrapper).attr('id', 'drum_' + $(HTMLselect).attr('name'));\n\n\t\t$(HTMLselect).after(wrapper);\n\n\t\tvar inner = document.createElement(\"div\");\n\t\t$(inner).addClass(\"inner\");\n\t\t$(inner).appendTo(wrapper);\n\n\t\tvar container = document.createElement( \"div\" );\n\t\t$(container).addClass(\"container\");\t\t\n\t\t$(container).appendTo(inner);\n\n\t\tvar drum = document.createElement( \"div\" );\n\t\t$(drum).addClass(\"drum\");\n\t\t$(drum).appendTo(container);\n\n\t\tif (settings.interactive === true) {\n\t\t\tvar dialUp = DrumIcon.up(settings);\n\t\t\t$(wrapper).append(dialUp);\n\n\t\t\tvar dialDown = DrumIcon.down(settings);\n\t\t\t$(wrapper).append(dialDown);\n\n\t\t\t$(wrapper).hover(function () {\n\t\t\t\t$(this).find(\".up\").show();\n\t\t\t\t$(this).find(\".down\").show();\n\t\t\t}, function () {\n\t\t\t\t$(this).find(\".up\").hide();\n\t\t\t\t$(this).find(\".down\").hide();\n\t\t\t});\n\t\t}\n\n\t\tsettings.radius = Math.round( ( $(drum).height() / 2 ) / Math.tan( Math.PI / settings.panelCount ) );\n\t\tsettings.mapping = [];\n\t\tvar c = 0;\n\t\tfor (var i=0; i < settings.panelCount; i++) {\n\t\t\tif (settings.data.length == i) break;\n\t\t\tvar j = c;\n\t\t\tif (c >= (settings.panelCount / 2)) {\n\t\t\t\tj = settings.data.length - (settings.panelCount - c);\n\t\t\t}\n\t\t\tc++;\n\n\t\t\tvar panel = new PanelModel(i, j, settings);\n\t\t\tpanel.init();\n\t\t\tsettings.mapping.push(panel);\n\n\t\t\t$(drum).append(panel.elem);\n\t\t}\n\n\t\tvar getNearest = function (deg) {\n\t\t\tdeg = deg || settings.rotation;\n\t\t\tvar th = (settings.theta / 2);\n\t\t\tvar n = 360;\n\t\t\tvar angle = ((deg + th) % n + n) % n;\n\t\t\tangle = angle - angle % settings.theta;\n\t\t\tvar l = (settings.data.length - 1) * settings.theta;\n\t\t\tif (angle > l) {\n\t\t\t\tif (deg > 0) return l;\n\t\t\t\telse return 0;\n\t\t\t}\n\t\t\treturn angle;\n\t\t};\n\t\tvar getSelected = function () {\n\t\t\tvar nearest = getNearest();\n\t\t\tfor (var i in settings.mapping) {\n\t\t\t\tif (settings.mapping[i].angle == nearest) {\n\t\t\t\t\treturn settings.mapping[i];\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tvar update = function (selected) {\n\t\t\tvar c, list = [], pc = settings.panelCount, ph = settings.panelCount / 2, l = settings.data.length;\n\t\t\tvar i = selected.index; \n\t\t\tvar j = selected.dataModel.index;\n\t\t\tfor (var k=j-ph; k<=j+ph-1; k++) {\n\t\t\t\tc = k;\n\t\t\t\tif (k < 0) c = l+k;\n\t\t\t\tif (k > l-1) c = k-l;\n\t\t\t\tlist.push(c);\n\t\t\t}\n\t\t\tvar t = list.slice(ph-i); \n\t\t\tlist = t.concat(list.slice(0, pc - t.length));\n\t\t\tfor (var i=0; i<settings.mapping.length; i++) {\n\t\t\t\tsettings.mapping[i].update(list[i]);\n\t\t\t}\n\t\t};\n\t\tvar transform = function() {\n\t\t\t$(drum).css(settings.transformProp, 'translateZ(-' + settings.radius + 'px) ' + settings.rotateFn + '(' + settings.rotation + 'deg)');\n\n\t\t\tvar selected = getSelected();\n\t\t\tif (selected) {\n\t\t\t\tvar data = selected.dataModel;\n\t\t\t\t\n\t\t\t\tvar last_index = HTMLselect.selectedIndex;\n\t\t\t\tHTMLselect.selectedIndex = data.index;\n\n\t\t\t\tif (last_index != data.index && settings.onChange) \n\t\t\t\t\tsettings.onChange(HTMLselect);\n\n\t\t\t\t$(selected.elem).css(\"opacity\", 1);\n\t\t\t\t$(\"figure:not(.a\" + (selected.angle*100) + \", .hidden)\", drum).css(\"opacity\", \"0.5\");\n\t\t\t\tif (selected.angle != settings.last_angle && [0,90,180,270].indexOf(selected.angle) >= 0) {\n\t\t\t\t\tsettings.last_angle = selected.angle;\n\t\t\t\t\tupdate(selected);\n\t\t\t\t}\n\t\t\t}\t\t\t\n\t\t};\n\t\tthis.setIndex = function (dataindex) {\n\t\t\tvar page = Math.floor(dataindex / settings.panelCount);\n\t\t\tvar index = dataindex - (page * settings.panelCount);\n\t\t\tvar selected = new PanelModel(index, dataindex, settings);\n\t\t\tupdate(selected);\n\t\t\tsettings.rotation = index * settings.theta;\n\t\t\ttransform();\n\t\t};\n\n\t\tthis.setIndex(settings.initselect);\n\n\t\tthis.getIndex = function () {\n\t\t\treturn getSelected().dataModel.index;\n\t\t};\n\n\t\tif (typeof(Hammer) != \"undefined\") {\n\t\t\tsettings.touch = new Hammer(wrapper, {\n\t\t\t\tprevent_default: true,\n\t\t\t\tno_mouseevents: true\n\t\t\t});\n\t\t\t\n\t\t\tsettings.touch.on(\"dragstart\", function (e) { \n\t\t\t\tsettings.distance = 0;\n\t\t\t});\n\n\t\t\tsettings.touch.on(\"drag\", function (e) {\n\t\t\t\tvar evt = [\"up\", \"down\"];\n\t\t\t\tif (evt.indexOf(e.gesture.direction)>=0) {\n\t\t\t\t\tsettings.rotation += Math.round(e.gesture.deltaY - settings.distance) * -1;\n\t\t\t\t\ttransform();\n\t\t\t\t\tsettings.distance = e.gesture.deltaY;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tsettings.touch.on(\"dragend\", function (e) {\n\t\t\t\tsettings.rotation = getNearest();\n\t\t\t\ttransform();\n\t\t\t});\n\t\t}\n\n\t\tif (settings.interactive) {\n\t\t\t$(dialUp).click(function (e) {\n\t\t\t\tvar deg = settings.rotation + settings.theta + 1;\n\t\t\t\tsettings.rotation = getNearest(deg);\n\t\t\t\ttransform();\n\t\t\t});\n\t\t\t$(dialDown).click(function (e) {\n\t\t\t\tvar deg = settings.rotation - settings.theta - 1;\n\t\t\t\tsettings.rotation = getNearest(deg);\n\t\t\t\ttransform();\n\t\t\t});\t\t\t\n\t\t}\n\t};\n\n\tvar methods = {\n\t\tgetIndex : function () {\n\t\t\tif ($(this).data('drum'))\n\t\t\t\treturn $(this).data('drum').getIndex();\n\t\t\treturn false;\n\t\t},\n\t\tsetIndex : function (index) {\n\t\t\tif ($(this).data('drum'))\n\t\t\t\t$(this).data('drum').setIndex(index);\n\t\t},\n\t\tinit : function (options) {\n\t\t\tvar transformProp = false;\n\t\t\tvar prefixes = 'transform WebkitTransform MozTransform OTransform msTransform'.split(' ');\n\t\t\tfor(var i = 0; i < prefixes.length; i++) {\n\t\t\t\tif(document.createElement('div').style[prefixes[i]] !== undefined) {\n\t\t\t\t\ttransformProp = prefixes[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (transformProp) {\n\t\t\t\tvar element = $(this);\n\t\t\t\tif (!element.data('drum')) {\n\t\t\t\t\tvar drum = new Drum(element, options, transformProp);\n\t\t\t\t\telement.data('drum', drum);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t$.fn.drum = function(methodOrOptions)\n\t{\n\t\tvar _arguments = arguments;\n\t\treturn this.each(function() {\n\t\t\tif ( methods[methodOrOptions] ) {\n\t\t\t\treturn methods[ methodOrOptions ].apply( this, Array.prototype.slice.call( _arguments, 1 ));\n\t\t\t} else if ( typeof methodOrOptions === 'object' || ! methodOrOptions ) {\n\t\t\t\treturn methods.init.apply( this, _arguments );\n\t\t\t} else {\n\t\t\t\t$.error( 'Method ' +  methodOrOptions + ' does not exist on jQuery.drum' );\n\t\t\t}\n\t\t});\n\t};\n})(jQuery);"],"sourceRoot":"/source/"}