"use strict";var correctAnswerScroll="TOR",sup1Answer="PUDA",sup2Answer="PUAL",sup3Answer="PICI",sup4Answer="PIVE",useDebug=!0;$(document).ready(function(){$(window).bind("hashchange",function(){var t=window.location.hash;switch(t){case"#scroll1":Scroll1.Start();break;case"#scroll2":Scroll2.Start();break;case"#autoDrop":AutoDrop.Start();break;case"#sup1":Supplementary.Start();break;case"#wool":Wool.Start();break;default:Default.Start()}});var t=window.location.hash;switch(t){case"#scroll1":Scroll1.Start();break;case"#scroll2":Scroll2.Start();break;case"#autoDrop":AutoDrop.Start();break;case"#sup1":Supplementary.Start();break;case"#wool":Wool.Start();break;default:Default.Start()}});var Supplementary=function(){function t(){Hammer.plugins.fakeMultitouch(),a(),Hide.all(),$(".supplementary").show(),$(".sup2").hide(),$(".sup3").hide(),$(".sup4").hide(),e()}function e(){function t(t){var e=t.attr("class").split(" "),a=e[e.length-1];return $(".sup"+a).show(),a}$(".button.prev").click(function(){var e=t($(this));$(".sup"+(parseInt(e,10)+1)).hide()}),$(".button.next").click(function(){var e=t($(this));$(".sup"+(parseInt(e,10)-1)).hide()}),$(".button.answer").click(function(){$("#SupScroll1").val()==sup1Answer?$(".labelSub1").append(" RÄTT"):$(".labelSub1").append(" FEL"),$("#SupScroll2").val()==sup2Answer?$(".labelSub2").append(" RÄTT"):$(".labelSub2").append(" FEL"),$("#SupScroll3").val()==sup3Answer?$(".labelSub3").append(" RÄTT"):$(".labelSub3").append(" FEL"),$("#SupScroll4").val()==sup4Answer?$(".labelSub4").append(" RÄTT"):$(".labelSub4").append(" FEL"),$(".sup4").hide(),$(".supAnswer").show()})}function a(){$("#SupScroll1").drum({panelCount:7}),$("#SupScroll2").drum({panelCount:7,dail_w:75,dail_h:20,dail_stroke_color:"#810000",dail_stroke_width:3}),$("#SupScroll3").drum({panelCount:7,dail_w:75,dail_h:20,dail_stroke_color:"#810000",dail_stroke_width:3}),$("#SupScroll4").drum({panelCount:7,dail_w:75,dail_h:20,dail_stroke_color:"#810000",dail_stroke_width:3})}return{Load:a,Start:t}}(),Wool=function(){function t(){Hide.all(),$(".wool").show(),$(".draggable").draggable(),$(".droppable").droppable({drop:function(t,r){var l=t.target.className.split(" ")[1],o=r.draggable.text().trim();"1"==l&&"Mohair"==o||"2"==l&&"Vikunjaull"==o||"3"==l&&"Merinoull"==o?e($(this)):a($(this))}})}function e(t){t.addClass("ui-state-highlight").find("p").html("RÄTT!")}function a(t){t.addClass("ui-state-highlight").find("p").html("FEL!")}return{Start:t}}(),Hide=function(){function t(){$(".nodbroms").hide(),$(".default").hide(),$(".topText").hide(),$(".select2").hide(),$(".scroll1").hide(),$(".scroll2").hide(),$(".supplementary").hide(),$(".wool").hide()}return{all:t}}(),Default=function(){function t(){Scroll1.Load(),Scroll2.Load(),Supplementary.Load(),Hide.all(),$(".default").show()}return{Start:t}}(),AutoDrop=function(){function t(){$(".js-example-basic-single").select2(),Hide.all(),$(".nodbroms").show(),e(),HandBreak.clickEvent(".select2")}function e(){$(".chooser.select2").click(function(){$(".js-example-basic-single").val()==correctAnswerScroll?$(".awnswer").text("RÄTT SVAR!"):$(".awnswer").text("FEL SVAR!")})}return{Start:t}}(),Scroll1=function(){function t(){Hammer.plugins.fakeMultitouch(),e(),Hide.all(),$(".nodbroms").show(),HandBreak.clickEvent(".scroll1"),a()}function e(){$("#scroll1").drum({panelCount:10,dail_w:75,dail_h:20,dail_stroke_color:"#810000",dail_stroke_width:3})}function a(){$(".chooser.scroll").click(function(){$("#scroll1").val()==correctAnswerScroll?$(".awnswer").text("RÄTT SVAR!"):$(".awnswer").text("FEL SVAR!")})}return{Start:t,Load:e}}(),Scroll2=function(){function t(){Hammer.plugins.fakeMultitouch(),e(),Hide.all(),$(".nodbroms").show(),HandBreak.clickEvent(".scroll2"),l(),r(),a()}function e(){$("#scroll2").drum({panelCount:10,dail_w:75,dail_h:20,dail_stroke_color:"#810000",dail_stroke_width:3})}function a(){$(".chooser.input").click(function(){$("#scroll2").val()==correctAnswerScroll?$(".awnswer").text("RÄTT SVAR!"):$(".awnswer").text("FEL SVAR!")})}function r(){$(".inputer").keyup(function(){var t;t=$(this).val();for(var e=0;e<o.length;e++)o[e].substring(0,t.length).toLowerCase().indexOf(t)>=0&&$("#scroll2").drum("setIndex",e)})}function l(){$("#scroll2 option").each(function(){var t=$(this).text();o.push(t)})}var o=[];return{Start:t,Load:e}}(),HandBreak=function(){var t=function(t){$(".nodbroms").click(function(){$(".nodbroms").hide(),$(".topText").show(),$(t).show()})};return{clickEvent:t}}();!function(t){t.plugins.fakeMultitouch=function(){var e=!1;t.HAS_POINTEREVENTS=navigator.msPointerEnabled&&navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>=1,t.event.getTouchList=function(a,r){if(t.HAS_POINTEREVENTS)return t.PointerEvent.getTouchList();if(a.touches)return a.touches;if(r==t.EVENT_START&&(e=!1),a.shiftKey){e||(e={pageX:a.pageX,pageY:a.pageY});var l=e.pageX-a.pageX,o=e.pageY-a.pageY;return[{identifier:1,pageX:e.pageX-l-50,pageY:e.pageY-o- -50,target:a.target},{identifier:2,pageX:e.pageX+l- -50,pageY:e.pageY+o-50,target:a.target}]}return e=!1,[{identifier:1,pageX:a.pageX,pageY:a.pageY,target:a.target}]}}}(window.Hammer);