"use strict";var correctAnswerScroll="TOR",sup1Answer="PUDA",sup2Answer="PUAL",sup3Answer="PICI",sup4Answer="PIVE",useDebug=!0;$(document).ready(function(){$(window).bind("hashchange",function(){var e=window.location.hash;switch(e){case"#scroll1":Scroll1.Start();break;case"#scroll2":Scroll2.Start();break;case"#autoDrop":AutoDrop.Start();break;case"#sup1":Supplementary.Start();break;case"#wool":Wool.Start();break;default:Default.Start()}});var e=window.location.hash;switch(e){case"#scroll1":Scroll1.Start();break;case"#scroll2":Scroll2.Start();break;case"#autoDrop":AutoDrop.Start();break;case"#sup1":Supplementary.Start();break;case"#wool":Wool.Start();break;default:Default.Start()}});var Supplementary=function(){function e(){Hammer.plugins.fakeMultitouch(),a(),Hide.all(),$(".supplementary").show(),$(".sup2").hide(),$(".sup3").hide(),$(".sup4").hide(),t()}function t(){function e(e){var t=e.attr("class").split(" "),a=t[t.length-1];return $(".sup"+a).show(),a}$(".button.prev").click(function(){var t=e($(this));$(".sup"+(parseInt(t,10)+1)).hide()}),$(".button.next").click(function(){var t=e($(this));$(".sup"+(parseInt(t,10)-1)).hide()}),$(".button.answer").click(function(){$("#SupScroll1").val()==sup1Answer?$(".labelSub1").append(" RÄTT"):$(".labelSub1").append(" FEL"),$("#SupScroll2").val()==sup2Answer?$(".labelSub2").append(" RÄTT"):$(".labelSub2").append(" FEL"),$("#SupScroll3").val()==sup3Answer?$(".labelSub3").append(" RÄTT"):$(".labelSub3").append(" FEL"),$("#SupScroll4").val()==sup4Answer?$(".labelSub4").append(" RÄTT"):$(".labelSub4").append(" FEL"),$(".sup4").hide(),$(".supAnswer").show()})}function a(){$("#SupScroll1").drum({panelCount:7}),$("#SupScroll2").drum({panelCount:7,dail_w:75,dail_h:20,dail_stroke_color:"#810000",dail_stroke_width:3}),$("#SupScroll3").drum({panelCount:7,dail_w:75,dail_h:20,dail_stroke_color:"#810000",dail_stroke_width:3}),$("#SupScroll4").drum({panelCount:7,dail_w:75,dail_h:20,dail_stroke_color:"#810000",dail_stroke_width:3})}return{Load:a,Start:e}}(),Wool=function(){function e(){Hide.all(),$(".wool").show(),$(".draggable").draggable(),$(".droppable").droppable({drop:function(e,r){var l=e.target.className.split(" ")[1],o=r.draggable.text().trim();"1"==l&&"Mohair"==o||"2"==l&&"Vikunjaull"==o||"3"==l&&"Merinoull"==o?t($(this)):a($(this))}})}function t(e){e.addClass("ui-state-highlight").find("p").html("RÄTT!")}function a(e){e.addClass("ui-state-highlight").find("p").html("FEL!")}return{Start:e}}(),Hide=function(){function e(){$(".nodbroms").hide(),$(".default").hide(),$(".topText").hide(),$(".select2").hide(),$(".scroll1").hide(),$(".scroll2").hide(),$(".supplementary").hide(),$(".wool").hide()}return{all:e}}(),Default=function(){function e(){Scroll1.Load(),Scroll2.Load(),Supplementary.Load(),Hide.all(),$(".default").show()}return{Start:e}}(),AutoDrop=function(){function e(){$(".js-example-basic-single").select2(),Hide.all(),$(".nodbroms").show(),t(),HandBreak.clickEvent(".select2")}function t(){$(".chooser.select2").click(function(){$(".js-example-basic-single").val()==correctAnswerScroll?$(".awnswer").text("RÄTT SVAR!"):$(".awnswer").text("FEL SVAR!")})}return{Start:e}}(),Scroll1=function(){function e(){Hammer.plugins.fakeMultitouch(),t(),Hide.all(),$(".nodbroms").show(),HandBreak.clickEvent(".scroll1"),a()}function t(){$("#scroll1").drum({panelCount:10,dail_w:75,dail_h:20,dail_stroke_color:"#810000",dail_stroke_width:3})}function a(){$(".chooser.scroll").click(function(){$("#scroll1").val()==correctAnswerScroll?$(".awnswer").text("RÄTT SVAR!"):$(".awnswer").text("FEL SVAR!")})}return{Start:e,Load:t}}(),Scroll2=function(){function e(){Hammer.plugins.fakeMultitouch(),t(),Hide.all(),$(".nodbroms").show(),HandBreak.clickEvent(".scroll2"),l(),r(),a()}function t(){$("#scroll2").drum({panelCount:10,dail_w:75,dail_h:20,dail_stroke_color:"#810000",dail_stroke_width:3})}function a(){$(".chooser.input").click(function(){$("#scroll2").val()==correctAnswerScroll?$(".awnswer").text("RÄTT SVAR!"):$(".awnswer").text("FEL SVAR!")})}function r(){$(".inputer").keyup(function(){var e;e=$(this).val().toLowerCase();for(var t=0;t<o.length;t++)o[t].substring(0,e.length).toLowerCase().indexOf(e)>=0&&$("#scroll2").drum("setIndex",t)})}function l(){$("#scroll2 option").each(function(){var e=$(this).text();o.push(e)})}var o=[];return{Start:e,Load:t}}(),HandBreak=function(){var e=function(e){$(".nodbroms").click(function(){$(".nodbroms").hide(),$(".topText").show(),$(e).show()})};return{clickEvent:e}}();!function(e){e.plugins.fakeMultitouch=function(){var t=!1;e.HAS_POINTEREVENTS=navigator.msPointerEnabled&&navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>=1,e.event.getTouchList=function(a,r){if(e.HAS_POINTEREVENTS)return e.PointerEvent.getTouchList();if(a.touches)return a.touches;if(r==e.EVENT_START&&(t=!1),a.shiftKey){t||(t={pageX:a.pageX,pageY:a.pageY});var l=t.pageX-a.pageX,o=t.pageY-a.pageY;return[{identifier:1,pageX:t.pageX-l-50,pageY:t.pageY-o- -50,target:a.target},{identifier:2,pageX:t.pageX+l- -50,pageY:t.pageY+o-50,target:a.target}]}return t=!1,[{identifier:1,pageX:a.pageX,pageY:a.pageY,target:a.target}]}}}(window.Hammer);